{"version":3,"sources":["component/MoviesPage/MoviePage.module.css","component/MoviesPage/MoviesPage.js"],"names":["module","exports","MoviesPage","from","useLocation","useState","searchMovie","setSearchMovie","arrayMovie","setArrayMovie","prevSearchMovie","setPrevSearchMovie","request","search","fetch","then","response","json","results","useEffect","state","className","s","conteiner","onSubmit","event","preventDefault","trim","alert","type","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","map","name","to","id","title"],"mappings":"4HACAA,EAAOC,QAAU,CAAC,UAAY,+B,+ICGf,SAASC,IACtB,IAAMC,EAAOC,cACb,EAAsCC,mBAAS,IAA/C,mBAAOC,EAAP,KAAoBC,EAApB,KACA,EAAoCF,mBAAS,IAA7C,mBAAOG,EAAP,KAAmBC,EAAnB,KACA,EAA8CJ,mBAAS,IAAvD,mBAAOK,EAAP,KAAwBC,EAAxB,KAMMC,EAAU,SAAAC,GAAM,OACpBC,MAAM,2GAAD,OACwGD,EADxG,gCAGFE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,UAC1BF,MAAK,SAAAC,GACJP,EAAcO,EAASE,aAqB7B,OANAC,qBAAU,WAAO,IAAD,EACmB,GAAjC,UAAIhB,EAAKiB,aAAT,aAAI,EAAYV,kBACdE,EAAO,UAACT,EAAKiB,aAAN,aAAC,EAAYV,mBAErB,IAGD,sBAAKW,UAAWC,IAAEC,UAAlB,UACE,uBAAMC,SApBW,SAAAC,GAAU,IAAD,EAE5B,GADK,OAALA,QAAK,IAALA,GAAA,UAAAA,EAAOC,sBAAP,cAAAD,GAC2B,KAAvBnB,EAAYqB,OACd,OAAOC,MAAM,8HAEfjB,EAAmBL,GAEnBM,EAAQN,GAERC,EAAe,KAWb,UACE,uBACEsB,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,eACZC,MAAO3B,EACP4B,SAxCiB,SAAAT,GACvBlB,EAAekB,EAAMU,cAAcF,MAAMG,kBA0CrC,wBAAQP,KAAK,SAAb,SACE,+CAIJ,6BACGrB,EAAW6B,KAAI,SAAAC,GAAI,OAClB,6BACE,eAAC,IAAD,CAAMC,GAAE,kBAAaD,EAAKE,IAAMpB,MAAO,CAAEjB,OAAMO,mBAA/C,UACG4B,EAAKG,MAAO,QAFRH,EAAKE","file":"static/js/6.fff6b00f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"conteiner\":\"MoviePage_conteiner__3U89H\"};","import { useState } from 'react';\r\nimport { Link, useLocation } from 'react-router-dom';\r\nimport { useEffect } from 'react/cjs/react.development';\r\nimport s from './MoviePage.module.css';\r\nexport default function MoviesPage() {\r\n  const from = useLocation();\r\n  const [searchMovie, setSearchMovie] = useState('');\r\n  const [arrayMovie, setArrayMovie] = useState([]);\r\n  const [prevSearchMovie, setPrevSearchMovie] = useState('');\r\n\r\n  const handleNameChange = event => {\r\n    setSearchMovie(event.currentTarget.value.toLowerCase());\r\n  };\r\n\r\n  const request = search =>\r\n    fetch(\r\n      `https://api.themoviedb.org/3/search/movie?api_key=5ac3759582a29f2bcb8e74a1f0ca5fb0&language=en-US&query=${search}&page=1&include_adult=false`,\r\n    )\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        setArrayMovie(response.results);\r\n      });\r\n\r\n  const handleSubmit = event => {\r\n    event?.preventDefault?.();\r\n    if (searchMovie.trim() === '') {\r\n      return alert('Введіть назву картинки');\r\n    }\r\n    setPrevSearchMovie(searchMovie);\r\n\r\n    request(searchMovie);\r\n\r\n    setSearchMovie('');\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (from.state?.prevSearchMovie) {\r\n      request(from.state?.prevSearchMovie);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <div className={s.conteiner}>\r\n      <form onSubmit={handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search movie\"\r\n          value={searchMovie}\r\n          onChange={handleNameChange}\r\n        />\r\n\r\n        <button type=\"submit\">\r\n          <span>Search</span>\r\n        </button>\r\n      </form>\r\n\r\n      <ul>\r\n        {arrayMovie.map(name => (\r\n          <li key={name.id}>\r\n            <Link to={`/movies/${name.id}`} state={{ from, prevSearchMovie }}>\r\n              {name.title}{' '}\r\n            </Link>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n"],"sourceRoot":""}